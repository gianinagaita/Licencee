<form #f='ngForm'>
  <mat-card class="example-card">
    <mat-card-title i18n="updateBug| The bug update">Update Bug</mat-card-title>
    <mat-divider></mat-divider>
    <br>

    <mat-form-field class="form-group">
      <input #title="ngModel" [(ngModel)]="bug.title"
             class="form-control"
             id="title"
             matInput
             name="title"
             ngModel
             placeholder="Title"
             required
             type="text"
             i18n="title| The title">
      <mat-error *ngIf="title.touched && title.invalid">
        <mat-error *ngIf="title.errors.required"
                   i18n="fieldRequired| The field is required">The field is required
        </mat-error>
      </mat-error>
    </mat-form-field>

    <mat-form-field class="form-group">
      <input #description="ngModel" [(ngModel)]="bug.description"
             class="form-control"
             id="description"
             matInput
             name="description"
             ngModel
             placeholder="Description"
             required
             i18n="description| The description"
             type="text">
      <mat-error
        *ngIf="description.touched && description.invalid">
        <mat-error *ngIf="description.errors.required"
                   i18n="fieldRequired| The field is required">
          The field is required
        </mat-error>

      </mat-error>
    </mat-form-field>

    <mat-form-field class="col-lg-12">
      <input #version="ngModel"
             [(ngModel)]="bug.version"
             class="form-control"
             id="version"
             matInput
             name="version"
             ngModel
             pattern="^[a-zA-Z]*[0-9].[0-9]"
             placeholder="Version"
             required
             type="text"
             i18n="version| The version is required"
             #version="ngModel">

      <mat-error *ngIf="version.touched && version.invalid"
                 class="alert alert-danger">
        <mat-error *ngIf="version.errors.required" i18n="fieldRequired| The field is required">The field is required
        </mat-error>
        <mat-error *ngIf="version.errors.pattern" i18n="numberInvalid| The number is invalid">Number is invalid
        </mat-error>

      </mat-error>
    </mat-form-field>


    <mat-form-field class="form-group">
      <input [(ngModel)]="bug.fixedVersion"
             class="form-control"
             id="fixedVersion"
             matInput
             name="fixedVersion"
             ngModel
             placeholder="Fixed Version"
             i18n="fixedVersion| The fixedVersion"
             type="text">

    </mat-form-field>

    <mat-form-field>
      <mat-label i18n="severity| The severity">Severity</mat-label>

      <mat-select matNativeControl
                  [(ngModel)]="bug.severity"
                  name="severity"
                  ngModel required>
        <mat-option value="Low" i18n="low|The field is low">Low</mat-option>
        <mat-option value="Medium" i18n="medium|The field is medium">Medium</mat-option>
        <mat-option value="High" i18n="high|The field is high">High</mat-option>
        <mat-option value="Critical" i18n="critical|The field is critical">Critical</mat-option>
      </mat-select>
    </mat-form-field>


    <mat-form-field>
      <mat-label i18n="assignTo| The assigned">Assign to:</mat-label>
      <mat-select [(ngModel)]="bug.usernameAssignTo"
                  name="usernameAssignTo"
                  ngModel>
        <option selected="bug.usernameAssignTo">{{bug.usernameAssignTo}}</option>
        <mat-option *ngFor="let user of usersList" [value]="user.userName">{{user.userName}}</mat-option>
      </mat-select>


    </mat-form-field>

    <mat-form-field>
      <mat-label i18n="status| The status">Status:</mat-label>
      <mat-select [(ngModel)]="bug.status"
                  name="status"
                  ngModel>
        <option selected="bug.status">{{bug.status}}</option>
        <mat-option *ngFor="let st of bug.statusList" [value]="st">{{st}}</mat-option>
      </mat-select>


    </mat-form-field>


    <mat-card-actions>


    </mat-card-actions>
  </mat-card>

  <button (click)="editBug()"
          [disabled]="f.invalid"
          mat-raised-button>
    Submit
  </button>
</form>

